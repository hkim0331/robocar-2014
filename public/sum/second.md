## せっかく配列覚えたが

配列は便利だ。

しかし、配列つかわんでも正整数の和ぐらいできるぞ。工夫の第一歩だ。
キモは読み込んだ正整数をすぐさま sum にたすこと。
ループの終わりは kirakira でやったようにマークをつける。
負の数が来たら入力終わりにする（そのために問題が「正整数の和」だった。ズル。）

````c
#include <stdio.h>
#include <stdlib.h>

int main(void) {
  int x;
  int i=0;
  int sum=0;

  for (;;) {    // 無限ループ
    scanf("%d", &x);
    if (x<0) {
      break;
    } else {
      sum += x;
      i += 1;   // i++; とも書けるぞ。
    };          // if文終わりのセミコロン。書かないでよし。
  };            // for文終わりのセミコロン。書かないでよし。
  printf("sum=%d\n",sum);
  return 0;
}
````

* for (;;) のブロックは文を二つ、囲んでいる。ひとつは scanf(); で、もうひとつは if ()
* if は大事なのでこの次のセクションで説明する。
* break は自分を囲む for ループから脱出する。上のプログラムだと、6行下の printf。
* 文が '};'で終わるときは、セミコロンを省略するのがふつう。
* else の前にセミコロンを打つとエラー。それは if 文の途中だから。次の章を読め。

### if 文

if 文の書き方は、

````c
if (条件) {
  １個以上の文　//真ブロックと呼ぼう
} else {
  １個以上の文　//偽ブロックと呼ぼう
}
````

* 「条件」が真になったら真ブロックを実行し、真ブロックの実行が終わっても偽ブロックは実行しない。
* 「条件」が偽になったら真ブロックを飛ばして、偽ブロックを実行する。

(条件)を囲むかっこ( )は省略できない。

文の最後のセミコロンは恒例により省略。

C言語には嫌らしいことに else を省略した if もある。

````c
if (条件) {
  １個以上の文
}
````

上側の例で else の前にセミコロンうっちゃうとこの下側の if 文とコンピュータは解釈し、
次の else が文の先頭と思われるとエラーになる。C言語の嫌らしい部分なので、不規則動詞と思って、
理屈ではなく用例で覚えよ。

## 何が真か

C 言語では 0 以外全てのものは真と決められている。
これがどういう意味か、例題をこなして理解しよう。次ページ。

### 問題

1. 整数をキーボードから読み、その整数が正の数なら「プラスです」、負の数なら「マイナスです」と表示させる。
1. 整数をキーボードから読み、その整数が偶数なら「偶数です」、そうでないときは「奇数です」と表示させる。
1. 整数をふたつ、キーボードから読み、大きい方はこっちですを表示する。

## 字下げ（インデンテーション）

字下げは純粋にプログラマーのためにある。読みやすければそれでいい。

どれが読みやすいか？

````c
if (hungry()) {
  rice();
  soup();
  chicken();
  beer();
} else {
  go_to_bed();
}
````

````c
if (hungry())
{
  rice();
  soup();
  chicken();
  beer();
}
else
{
  go_to_bed();
}
````

````c
if (hungry()) {
  rice();

    soup();chicken();
  beer();} else {go_to_bed();}
````

自分でルールを作り、それに徹頭徹尾従って、最初の行から最後までポリシーを崩さず貫くこと。
繰り返しの for や while についても同じ。

[次、ループ](third.html)
